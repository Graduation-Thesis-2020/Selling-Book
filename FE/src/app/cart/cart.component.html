<section style="background-color: antiquewhite;
        background-image: url(https://cdn.pixabay.com/photo/2018/12/18/22/29/background-3883179_960_720.jpg);
        background-repeat: no-repeat;
        background-size: 100% 100%;
        height: 300px;">
  <div class="header">
    <div class="container">
      <div class="logo">
        <h1>
          <a [routerLink]="['/home']"
            ><b>T<br />H<br />E</b>Book Store<span>The Best Store Online</span></a
          >
        </h1>
      </div>



      <div class="header-ri">
        <ul class="social-top">
          <li>
            <a href="https://www.facebook.com/koolsssssss" class="icon facebook"
              ><i class="fa fa-facebook" aria-hidden="true"></i><span></span
            ></a>
          </li>
          <li>
            <a href="https://www.facebook.com/hung.lu1998" class="icon twitter"
              ><i class="fa fa-twitter" aria-hidden="true"></i><span></span
            ></a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!--Menu-->
  <div class="container">
    <nav class="navbar navbar-expand-lg border-bottom" >
      <a class="navbar-brand" style="font-size: 24px; color: antiquewhite; margin-right: 0px;" [routerLink]="['/home']"><i class="fas fa-book"style="padding-top: 30px;" ></i></a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon" ></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <div class="nav-top mr-auto">
          <nav class="navbar navbar-default ">
            <div class="ccc">
              <ul class="nav navbar-nav">
                <li >
                  <a [routerLink]="['/home']" class="hyper"
                    ><span>Trang Chủ</span></a
                  >
                </li>

                <li class="dropdown">
                  <a href="#" class="dropdown-toggle hyper" data-toggle="dropdown"
                    ><span>Thể loại<b class="caret"></b></span
                  ></a>
                  <ul class="dropdown-menu multi">
                    <div class="row">
                      <div class="col-sm-3" *ngFor="let cate of cates1">
                        <ul class="multi-column-dropdown">
                          <li>
                            <a
                              routerLink="/books/{{ cate._id }}/categories/{{
                                cate.name
                              }}"
                              ><i class="fa fa-angle-right" aria-hidden="true"></i
                              >{{ cate.name }}</a
                            >
                          </li>
                        </ul>
                      </div>
                      <div class="clearfix"></div>
                    </div>
                  </ul>
                </li>
                <li class="dropdown">
                  <a href="#" class="dropdown-toggle hyper" data-toggle="dropdown"
                    ><span> Nhà Xuất Bản <b class="caret"></b></span
                  ></a>
                  <ul class="dropdown-menu multi multi1">
                    <div class="row">
                      <div class="col-sm-3" *ngFor="let pub of pubs">
                        <ul class="multi-column-dropdown">
                          <li>
                            <a
                              routerLink="/books/{{ pub._id }}/publishers/{{
                                pub.name
                              }}"
                              ><i class="fa fa-angle-right" aria-hidden="true"></i
                              >{{ pub.name }}
                            </a>
                          </li>
                        </ul>
                      </div>
                      <div class="clearfix"></div>
                    </div>
                  </ul>
                </li>
                <li class="dropdown">
                  <a href="#" class="dropdown-toggle hyper" data-toggle="dropdown"
                    ><span>Tác Giả<b class="caret"></b></span
                  ></a>
                  <ul class="dropdown-menu multi multi2">
                    <div class="row">
                      <div class="col-sm-3" *ngFor="let aut of auts">
                        <ul class="multi-column-dropdown">
                          <li>
                            <a
                              routerLink="/books/{{ aut._id }}/authors/{{
                                aut.name
                              }}"
                              ><i class="fa fa-angle-right" aria-hidden="true"></i
                              >{{ aut.name }}</a
                            >
                          </li>
                        </ul>
                      </div>
                    </div>
                  </ul>
                </li>
                <li class="dropdown">
                  <a [routerLink]="['/books']" class="dropdown-toggle hyper" data-toggle="dropdown"
                    ><span> Tất Cả Sách </span
                  ></a>
                </li>
                <li class="dropdown">
                  <a [routerLink]="['/sale']" class="dropdown-toggle hyper" data-toggle="dropdown"
                    ><span> Ưu Đãi </span
                  ></a>
                  <div class="offer-menu" >
                    <p><span>Giảm giá</span></p>
                  </div>
                </li>
              </ul>

            </div>
          </nav>
        </div>

        <div class="cart">
          <a [routerLink]="['/cart']"
            ><span class="fa fa-shopping-cart my-cart-icon"
              >(<small>{{ countItem }}</small
              >)</span
            ></a
          >
        </div>

      </div>

    </nav>



    </div>

</section>

<div class="cus-container-main">
  <div class="container">
    <div class="spec">
      <h3>Giỏ Hàng</h3>
      <div class="ser-t">
        <b></b>
        <span><i></i></span>
        <b class="line"></b>
      </div>

      <div class="num" *ngIf="countItem>0">
        <small>Hiện có</small> [ {{ countItem }} ]
        <small>sản phẩm trong giỏ của bạn</small>
      </div>

    </div>

    <div class="container pl-0 pr-0" *ngIf="countItem>0">
      <div class="item" *ngFor="let item of items; let i = index">
        <div class="row mr-0 ml-0 pb-2" >
          <div class="col-auto">
            <div class="img-responsive">
              <img src="{{ item.product.imageUrl }}"  alt="" />
            </div>
          </div>
          <div class="col-4 pl-0 pt-1" >
            <div class="sed">
              <h5>{{ item.product.title }}</h5>
            </div>
          </div>
          <div class="col-2 pl-0 pt-1" >
            <div class="price" *ngIf="item.product.discount == 0">
              <p>{{ item.product.price }}<p>
            </div>
            <div class="price" *ngIf="item.product.discount > 0">
              <p >{{ item.product.discount }} <p><em style="text-decoration: line-through;">{{ item.product.price }}</em>
            </div>

          </div>
          <div class="col-3 pl-0 mr-auto pt-1" >
            <div class="row">
              <div class="numUpDown col pl-0 pr-0">
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <button class="btn btn-outline-secondary btnupdown" (click)="update(i, 'minus')" type="button"> <i class="fa fa-minus"></i></button>
                  </div>
                  <input type="text" class="form-control inputNum" sytle="width: 40px" value="{{ item.total }}" id="Input_{{ i }}">
                  <div class="input-group-append">
                    <button class="btn btn-outline-secondary btnupdown" (click)="update(i, 'plus')" type="button"><i class="fa fa-plus"></i></button>
                  </div>
                </div>

              </div>
              <div class="col" style="margin-top: 10px;">
                <button
                type="button"
                class="btn btn-danger"
                (click)="remove(item.product._id)"
              >
                <i class="fa fa-remove"></i>
              </button>
              </div>
            </div>




          </div>
          <div class="col-auto pl-0  pt-1" >
            <div class="price" *ngIf="item.product.discount == 0">
              <p style="color: rgb(223, 112, 112); font-weight: 500;">{{ item.product.price * item.total }} đ<p>
            </div>
            <div class="price" *ngIf="item.product.discount > 0">
              <p style="color: rgb(223, 112, 112); font-weight: 500;">{{ item.product.discount * item.total }} đ<p>
            </div>
          </div>
        </div>
     </div>
     <div class="item1 pl-2 pr-3">
      <div class="row" style="text-align: right">
        <div class="col-8"></div>
        <div class="col ml-auto" style="  border-top: 1px solid rgb(228, 224, 220); padding-top: 10px;">
          <span style="font-size: 20px;"> Tổng tiền</span>
        </div>
        <div class="col-2" style="  border-top: 1px solid rgb(228, 224, 220);padding-top: 10px;">
          <span style="font-size: 20px; color: red; font-weight: 500;">{{ total }} đ</span>
        </div>
       </div>
     </div>

    </div>

    <div class="container pl-0 pr-0" *ngIf="countItem==0">
      <div class="nothing">
        <img src="https://www.vexels.com/media/users/3/218179/isolated/thumb/f3aa1da2feec7a973c3e244760548bc3-shopping-fox-cute-illustration-by-vexels.png" alt="">
        <div>
          <span>Hiện không có sản phẩm nào trong giỏ hàng</span>
        </div>
      </div>
    </div>
    <div class="pay">
      <div class="row">
        <div class="col">
          <div class="back1">
            <a [routerLink]="['/home']"
              ><i class="fa fa-arrow-left"></i> Quay lại
            </a>
          </div>
        </div>
        <div class="col-auto" *ngIf="token">
          <div class="back1" *ngIf="countItem>0">
            <a [routerLink]="['/infocarts']" (click)="itemcheckout()"
              >Tiếp tục <i class="fa fa-arrow-right"></i>
            </a>
          </div>
        </div>
        <div class="col-auto" *ngIf="!token">
          <div class="back1" >
            <a [routerLink]="['/infocarts']"   data-toggle="modal" data-target="#ModalLog"
              >Tiếp tục <i class="fa fa-arrow-right"></i>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- <button
        type="button"
        class="btn btn-primary pull-right"
        data-toggle="modal"
        data-target="#exampleModal"
      >
        Thanh toán
      </button> -->

    <!-- <div
        class="modal fade"
        id="exampleModal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <h2>Vui lòng điền thông tin:</h2>
              <form style="margin-top: 20px">
                <div class="input-group mb-3 input-group-md">
                  <div class="input-group-prepend">
                    <span class="input-group-text" style="border-color: #3f3d3c"
                      >Địa chỉ</span
                    >
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    #code
                    style="border-color: #3f3d3c"
                  />
                </div>
                <div
                  class="input-group mb-3 input-group-md"
                  style="margin-top: 20px"
                >
                  <div class="input-group-prepend">
                    <span class="input-group-text" style="border-color: #3f3d3c"
                      >Số ĐT</span
                    >
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    #code
                    style="border-color: #3f3d3c"
                  />
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-success" data-dismiss="modal">
                Close
              </button>
              <button type="button" class="btn btn-success" data-dismiss="modal">
                Thanh Toán
              </button>
            </div>
          </div>
        </div>
      </div> -->
  </div>
</div>


<div class="modal fade" id="ModalLog" tabindex="-1" aria-labelledby="ModalLogLabel" aria-hidden="true">
  <div class="modal-dialog  ">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="ModalLogLabel" style="font-weight: 700; color: crimson; font-size: 24px;">Thông báo</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="padding-bottom: 10px;">
        Bạn cần <span style="font-weight: 600;"> đăng nhập </span>để có thể tiếp tục đặt hàng.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-info" routerLink="/login" data-dismiss="modal">Đăng nhập</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Đóng</button>

      </div>
    </div>
  </div>
</div>
